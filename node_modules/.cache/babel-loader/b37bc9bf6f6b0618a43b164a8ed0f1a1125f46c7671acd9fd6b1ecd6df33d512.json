{"ast":null,"code":"import\"./App.css\";import{useState,useEffect}from\"react\";import Star from\"./Star\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[query,setQuery]=useState(\"\");const[movieData,setMovieData]=useState(null);const[favorites,setFavorites]=useState(()=>{const savedFavorites=JSON.parse(localStorage.getItem(\"favorites\"));return savedFavorites?savedFavorites:[];});const[showFavorites,setShowFavorites]=useState(false);useEffect(()=>{const savedFavorites=JSON.parse(localStorage.getItem(\"favorites\"));if(savedFavorites){setFavorites(savedFavorites);}},[]);useEffect(()=>{localStorage.setItem(\"favorites\",JSON.stringify(favorites));},[favorites]);const fetchMovie=async movieName=>{try{const URL=\"http://www.omdbapi.com/?t=\".concat(movieName,\"&apikey=e45311a3\");const response=await fetch(URL);const finalData=await response.json();if(finalData.Response===\"False\"){setMovieData({Title:\"No movie found\"});}else{setMovieData(finalData);}}catch(err){console.log(err);}};const handleSearch=()=>{fetchMovie(query);setShowFavorites(false);};const handleFavoriteToggle=movie=>{setFavorites(prevFavorites=>{if(prevFavorites.find(fav=>fav.imdbID===movie.imdbID)){return prevFavorites.filter(fav=>fav.imdbID!==movie.imdbID);}else{return[...prevFavorites,movie];}});};return/*#__PURE__*/_jsxs(\"div\",{className:\"app-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:query,onChange:e=>setQuery(e.target.value),placeholder:\"Search for a movie\",className:\"search-input\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSearch,className:\"search-button\",children:\"Search\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowFavorites(true),className:\"favorites-button\",children:\"View Favorites\"}),showFavorites?/*#__PURE__*/_jsxs(\"div\",{className:\"favorites-list\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Favorites\"}),favorites.length>0?favorites.map(movie=>/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:movie.Title}),movie.Poster&&/*#__PURE__*/_jsx(\"img\",{src:movie.Poster,alt:\"\".concat(movie.Title,\" Poster\"),className:\"card-container\"})]},movie.imdbID)):/*#__PURE__*/_jsx(\"p\",{children:\"No favorites added yet.\"})]}):movieData&&/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"star-container\",children:/*#__PURE__*/_jsx(Star,{isFavorite:!!favorites.find(fav=>fav.imdbID===movieData.imdbID),onToggle:()=>handleFavoriteToggle(movieData)})}),/*#__PURE__*/_jsx(\"h1\",{children:movieData.Title}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Release Date: \",movieData.Released]}),movieData.Poster?/*#__PURE__*/_jsx(\"img\",{src:movieData.Poster,alt:\"\".concat(movieData.Title,\" Poster\")}):/*#__PURE__*/_jsx(\"p\",{children:\"No poster available\"})]})]});}export default App;","map":{"version":3,"names":["useState","useEffect","Star","jsx","_jsx","jsxs","_jsxs","App","query","setQuery","movieData","setMovieData","favorites","setFavorites","savedFavorites","JSON","parse","localStorage","getItem","showFavorites","setShowFavorites","setItem","stringify","fetchMovie","movieName","URL","concat","response","fetch","finalData","json","Response","Title","err","console","log","handleSearch","handleFavoriteToggle","movie","prevFavorites","find","fav","imdbID","filter","className","children","type","value","onChange","e","target","placeholder","onClick","length","map","Poster","src","alt","isFavorite","onToggle","Released"],"sources":["C:/Assignment/src/App.js"],"sourcesContent":["import \"./App.css\";\nimport { useState, useEffect } from \"react\";\nimport Star from \"./Star\";\n\nfunction App() {\n  const [query, setQuery] = useState(\"\");\n  const [movieData, setMovieData] = useState(null);\n  const [favorites, setFavorites] = useState(() => {\n    const savedFavorites = JSON.parse(localStorage.getItem(\"favorites\"));\n    return savedFavorites ? savedFavorites : [];\n  });\n  const [showFavorites, setShowFavorites] = useState(false);\n\n  useEffect(() => {\n    const savedFavorites = JSON.parse(localStorage.getItem(\"favorites\"));\n    if (savedFavorites) {\n      setFavorites(savedFavorites);\n    }\n  }, []);\n\n  useEffect(() => {\n    localStorage.setItem(\"favorites\", JSON.stringify(favorites));\n  }, [favorites]);\n\n  const fetchMovie = async (movieName) => {\n    try {\n      const URL = `http://www.omdbapi.com/?t=${movieName}&apikey=e45311a3`;\n      const response = await fetch(URL);\n      const finalData = await response.json();\n\n      if (finalData.Response === \"False\") {\n        setMovieData({\n          Title: \"No movie found\",\n        });\n      } else {\n        setMovieData(finalData);\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const handleSearch = () => {\n    fetchMovie(query);\n    setShowFavorites(false);\n  };\n\n  const handleFavoriteToggle = (movie) => {\n    setFavorites((prevFavorites) => {\n      if (prevFavorites.find((fav) => fav.imdbID === movie.imdbID)) {\n        return prevFavorites.filter((fav) => fav.imdbID !== movie.imdbID);\n      } else {\n        return [...prevFavorites, movie];\n      }\n    });\n  };\n\n  return (\n    <div className=\"app-container\">\n      <input\n        type=\"text\"\n        value={query}\n        onChange={(e) => setQuery(e.target.value)}\n        placeholder=\"Search for a movie\"\n        className=\"search-input\"\n      />\n      <button onClick={handleSearch} className=\"search-button\">\n        Search\n      </button>\n      <button\n        onClick={() => setShowFavorites(true)}\n        className=\"favorites-button\"\n      >\n        View Favorites\n      </button>\n\n      {showFavorites ? (\n        <div className=\"favorites-list\">\n          <h2>Favorites</h2>\n          {favorites.length > 0 ? (\n            favorites.map((movie) => (\n              <div key={movie.imdbID} className=\"card\">\n                <h3>{movie.Title}</h3>\n                {movie.Poster && (\n                  <img\n                    src={movie.Poster}\n                    alt={`${movie.Title} Poster`}\n                    className=\"card-container\"\n                  />\n                )}\n              </div>\n            ))\n          ) : (\n            <p>No favorites added yet.</p>\n          )}\n        </div>\n      ) : (\n        movieData && (\n          <div className=\"card\">\n            <div className=\"star-container\">\n              <Star\n                isFavorite={\n                  !!favorites.find((fav) => fav.imdbID === movieData.imdbID)\n                }\n                onToggle={() => handleFavoriteToggle(movieData)}\n              />\n            </div>\n            <h1>{movieData.Title}</h1>\n            <p>Release Date: {movieData.Released}</p>\n\n            {movieData.Poster ? (\n              <img src={movieData.Poster} alt={`${movieData.Title} Poster`} />\n            ) : (\n              <p>No poster available</p>\n            )}\n          </div>\n        )\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}